<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<title>
  
    SQL
  
</title>

<meta name="description" content="SQL 菜鸟教程：https:&#x2F;&#x2F;www.runoob.com&#x2F;sql&#x2F;sql-syntax.html  知识补充：https:&#x2F;&#x2F;www.cnblogs.com&#x2F;yangming1996&#x2F;p&#x2F;10416499.html 题目问答： 增删改查面试题学习  -SQL语法1.一些最重要的 SQL 命令 SELECT - 从数据库中提取数据 UPDATE - 更新数据库中的数据 DELETE - 从数据">
<meta property="og:type" content="article">
<meta property="og:title" content="SQL">
<meta property="og:url" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2020&#x2F;06&#x2F;13&#x2F;SQL&#x2F;index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="SQL 菜鸟教程：https:&#x2F;&#x2F;www.runoob.com&#x2F;sql&#x2F;sql-syntax.html  知识补充：https:&#x2F;&#x2F;www.cnblogs.com&#x2F;yangming1996&#x2F;p&#x2F;10416499.html 题目问答： 增删改查面试题学习  -SQL语法1.一些最重要的 SQL 命令 SELECT - 从数据库中提取数据 UPDATE - 更新数据库中的数据 DELETE - 从数据">
<meta property="og:locale" content="en">
<meta property="og:image" content="c:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200610234741476.png">
<meta property="og:image" content="c:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200610234956342.png">
<meta property="og:image" content="c:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200611001358338.png">
<meta property="og:image" content="c:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200611003724681.png">
<meta property="og:image" content="c:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200611003552159.png">
<meta property="og:image" content="c:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200611004131455.png">
<meta property="og:image" content="c:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200611005523266.png">
<meta property="og:image" content="c:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200611022737063.png">
<meta property="og:image" content="c:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200611154744319.png">
<meta property="og:image" content="c:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200611155204077.png">
<meta property="og:image" content="c:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200611155500691.png">
<meta property="og:image" content="https:&#x2F;&#x2F;www.runoob.com&#x2F;wp-content&#x2F;uploads&#x2F;2019&#x2F;01&#x2F;sql-join.png">
<meta property="og:image" content="c:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200611171133335.png">
<meta property="og:image" content="c:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200611183236272.png">
<meta property="og:image" content="c:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200611183302470.png">
<meta property="og:updated_time" content="2020-06-12T18:22:20.051Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="c:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200610234741476.png">


  <link rel="alternative" href="/atom.xml" title="Hexo" type="application/atom+xml">



  <link rel="icon" href="/favicon.png">


<link rel="stylesheet" href="/perfect-scrollbar/css/perfect-scrollbar.min.css">
<link rel="stylesheet" href="/styles/main.css">






</head>
<body
  
    class="monochrome"
  
  >
  <div class="mobile-header">
  <button class="sidebar-toggle" type="button">
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
  </button>
  <a class="title" href="/">Hexo</a>
</div>

  <div class="main-container">
    <div class="sidebar">
  <div class="header">
    <h1 class="title"><a href="/">Hexo</a></h1>
    
    <div class="info">
      <div class="content">
        
        
          <div class="author">John Doe</div>
        
      </div>
      
        <div class="avatar">
          
            <a href="/about"><img src="https://cn.gravatar.com/avatar/35fef74d731255cd569c2c2b0b9e87e4?s=200"></a>
          
        </div>
      
    </div>
  </div>
  <div class="body">
    
      
        <ul class="nav">
          
            
              <li class="category-list-container">
                <a href="javascript:;">Category</a>
                
              </li>
            
          
            
              <li class="tag-list-container">
                <a href="javascript:;">Tag</a>
                
              </li>
            
          
            
              <li class="archive-list-container">
                <a href="javascript:;">Archive</a>
                <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/">2020</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/">2019</a><span class="archive-list-count">3</span></li></ul>
              </li>
            
          
        </ul>
      
        <ul class="nav">
          
            
              <li>
                <a href="/" title="Homepage" external="false">Homepage</a>
              </li>
            
          
            
              <li>
                <a href="/archives" title="By Year" external="false">By Year</a>
              </li>
            
          
        </ul>
      
        <ul class="nav">
          
            
              <li>
                <a href="https://github.com/denjones/hexo-theme-chan" title="Chan" target="_blank" rel="noopener">Chan</a>
              </li>
            
          
            
              <li>
                <a href="https://github.com/denjones" title="Github" target="_blank" rel="noopener">Github</a>
              </li>
            
          
            
              <li>
                <a href="/atom.xml" title="RSS" external="false">RSS</a>
              </li>
            
          
        </ul>
      
    
  </div>
</div>

    <div class="main-content">
      
        <div style="max-width: 1000px">
      
          <article id="post-SQL" class="article article-type-post">
  
    <h1 class="article-header">
      SQL
    </h1>
  
  

  <div class="article-info">
    <span class="article-date">
  2020-06-13
</span>

    

    

  </div>
  <div class="article-entry">
    <h1 id="SQL"><a href="#SQL" class="headerlink" title="SQL"></a>SQL</h1><blockquote>
<p>菜鸟教程：<a href="https://www.runoob.com/sql/sql-syntax.html" target="_blank" rel="noopener">https://www.runoob.com/sql/sql-syntax.html</a> </p>
<p>知识补充：<a href="https://www.cnblogs.com/yangming1996/p/10416499.html" target="_blank" rel="noopener">https://www.cnblogs.com/yangming1996/p/10416499.html</a></p>
<p>题目问答： 增删改查面试题学习</p>
</blockquote>
<h2 id="SQL语法"><a href="#SQL语法" class="headerlink" title="-SQL语法"></a>-SQL语法</h2><h4 id="1-一些最重要的-SQL-命令"><a href="#1-一些最重要的-SQL-命令" class="headerlink" title="1.一些最重要的 SQL 命令"></a>1.一些最重要的 SQL 命令</h4><ul>
<li><strong>SELECT</strong> - 从数据库中提取数据</li>
<li><strong>UPDATE</strong> - 更新数据库中的数据</li>
<li><strong>DELETE</strong> - 从数据库中删除数据</li>
<li><strong>INSERT INTO</strong> - 向数据库中插入新数据</li>
<li><strong>CREATE DATABASE</strong> - 创建新数据库1</li>
<li><strong>ALTER DATABASE</strong> - 修改数据库</li>
<li><strong>CREATE TABLE</strong> - 创建新表</li>
<li><strong>ALTER TABLE</strong> - 变更（改变）数据库表</li>
<li><strong>DROP TABLE</strong> - 删除表</li>
<li><strong>CREATE INDEX</strong> - 创建索引（搜索键）</li>
<li><strong>DROP INDEX</strong> - 删除索引</li>
</ul>
<h4 id="2-数据库表"><a href="#2-数据库表" class="headerlink" title="2.数据库表"></a>2.数据库表</h4><p>一个数据库通常包含一个或多个表，每个表有一个名字标识。</p>
<blockquote>
<p>以下例子在 MySQL 的 RUNOOB 数据库中创建了 Websites 表，用于存储网站记录。 </p>
</blockquote>
<p>1）SQL 对大小写不敏感</p>
<p>：SELECT 与 select 是相同的。</p>
<p>2）某些数据库系统要求在每条 SQL 语句的末端使用分号。</p>
<p>分号是在数据库系统中分隔每条 SQL 语句的标准方法，这样就可以在对服务器的相同请求中执行一条以上的 SQL 语句。</p>
<p>在本教程中，我们将在每条 SQL 语句的末端使用分号。</p>
<h3 id="SELECT语句"><a href="#SELECT语句" class="headerlink" title="#SELECT语句"></a>#SELECT语句</h3><blockquote>
<p>从数据库中选取数据。</p>
</blockquote>
<p>1.语法</p>
<p>SELECT <em>column_name</em>,<em>column_name</em><br>FROM <em>table_name</em>;</p>
<p>与</p>
<p>SELECT * FROM <em>table_name</em>;</p>
<p> 例1： SELECT name,country FROM Websites; </p>
<p><img src="C:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200610234741476.png" alt="image-20200610234741476"></p>
<p>例2：SELECT * FROM Websites;</p>
<p><img src="C:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200610234956342.png" alt="image-20200610234956342"></p>
<p>2.结果集中的导航</p>
<p>用函数导航。如MOVE-TO-FIRST-RECORD等。</p>
<h3 id="SELECT-DISTINCT"><a href="#SELECT-DISTINCT" class="headerlink" title="#SELECT DISTINCT"></a>#SELECT DISTINCT</h3><blockquote>
<p>用于返回唯一不同的值。</p>
</blockquote>
<p> 在表中，一个列可能会包含多个重复值，有时您也许希望仅仅列出不同（distinct）的值。 </p>
<ol>
<li><p>语法</p>
<p>SELECT DISTINCT <em>column_name</em>,<em>column_name</em><br>FROM <em>table_name</em>; </p>
<p>例：</p>
<p>SELECT DISTINCT country</p>
<p> FROM Websites;</p>
</li>
</ol>
<h3 id="WHERE子句"><a href="#WHERE子句" class="headerlink" title="#WHERE子句"></a>#WHERE子句</h3><blockquote>
<p>用于提取那些满足指定条件的记录。</p>
</blockquote>
<p>1.使用实例：选取国家为CN的所有网站</p>
<p>SELECT * FROM Websites</p>
<p> WHERE country=’CN’;</p>
<p>2.文本字段 vs. 数值字段</p>
<p>1）文本值：SQL 使用单引号 ‘’来环绕。</p>
<p>（大部分数据库系统也接受双引号，用错可能也不报错）。</p>
<p>在上个实例中 ‘CN’ 文本字段使用了单引号。</p>
<p>2）数值字段：请不要使用引号。</p>
<p>例：SELECT * FROM Websites </p>
<p>WHERE id=1;</p>
<p>3.下面的运算符可以在 WHERE 子句中使用：</p>
<table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">=</td>
<td align="left">等于</td>
</tr>
<tr>
<td align="left">&lt;&gt;</td>
<td align="left">不等于。<strong>注释：</strong>在 SQL 的一些版本中，该操作符可被写成 !=</td>
</tr>
<tr>
<td align="left">&gt;</td>
<td align="left">大于</td>
</tr>
<tr>
<td align="left">&lt;</td>
<td align="left">小于</td>
</tr>
<tr>
<td align="left">&gt;=</td>
<td align="left">大于等于</td>
</tr>
<tr>
<td align="left">&lt;=</td>
<td align="left">小于等于</td>
</tr>
<tr>
<td align="left">BETWEEN</td>
<td align="left">在某个范围内</td>
</tr>
<tr>
<td align="left">LIKE</td>
<td align="left">搜索某种模式</td>
</tr>
<tr>
<td align="left">IN</td>
<td align="left">指定针对某个列的多个可能值</td>
</tr>
</tbody></table>
<h3 id="AND-amp-OR运算符"><a href="#AND-amp-OR运算符" class="headerlink" title="#AND &amp;OR运算符"></a>#AND &amp;OR运算符</h3><blockquote>
<p>用于基于一个以上的条件对记录进行过滤。</p>
</blockquote>
<p>如果第一个条件和第二个条件都成立，则 AND 运算符显示一条记录。</p>
<p>如果第一个条件和第二个条件中只要有一个成立，则 OR 运算符显示一条记录。</p>
<p>1.AND例： SQL 语句从 “Websites” 表中选取国家为 “CN” 且alexa排名大于 “50” 的所有网站：</p>
<p>SELECT * FROM Websites </p>
<p>WHERE country=’CN’ </p>
<p>AND alexa &gt; 50;</p>
<p><img src="C:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200611001358338.png" alt="image-20200611001358338"></p>
<p>2.OR例：”Websites” 表中选取国家为 “USA” 或者 “CN” 的所有客户：</p>
<p>SELECT * FROM Websites</p>
<p>WHERE country=’USA’</p>
<p>OR country=’CN’;</p>
<p>3.结合两者</p>
<blockquote>
<p>用圆括号组成复杂的表达式</p>
</blockquote>
<p>例3：从 “Websites” 表中选取 alexa 排名大于 “15” 且国家为 “CN” 或 “USA” 的所有网站：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Websites</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> alexa &gt;<span class="number">15</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">AND</span> (country=<span class="string">'CN'</span> <span class="keyword">OR</span> country=<span class="string">'USA'</span>);</span><br></pre></td></tr></table></figure>



<h3 id="ORDER-BY"><a href="#ORDER-BY" class="headerlink" title="#ORDER BY"></a>#ORDER BY</h3><blockquote>
<p>用于对结果集进行排序。</p>
</blockquote>
<p>对结果集按照一个列或者多个列进行排序。（order by）</p>
<p>默认按照升序,降序对记录进行排序，您可以使用 DESC 关键字。(desc)</p>
<p>1.语法使用实例</p>
<p>例1：从 “Websites” 表中选取所有网站，并按照 “alexa” 列排序：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Websites</span><br><span class="line"></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> alexa;</span><br></pre></td></tr></table></figure>

<p>例2：从 “Websites” 表中选取所有网站，并按照 “alexa” 列降序排序：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Websites</span><br><span class="line"></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> alexa <span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure>

<p>例3:从 “Websites” 表中选取所有网站，并按照 “country” 和 “alexa” 列排序：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Websites</span><br><span class="line"></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> country,alexa;</span><br></pre></td></tr></table></figure>



<p><strong>注意：</strong></p>
<p>1.ORDER BY 多列的时候，先按照第一个column name排序，在按照第二个column name排序；如上述教程最后一个例子：</p>
<ul>
<li><p>1）、先将country值这一列排序，同为CN的排前面，同属USA的排后面；</p>
</li>
<li><p>2）、然后在同属CN的这些多行数据中，再根据alexa值的大小排列。</p>
</li>
<li><p>3）、ORDER BY 排列时，不写明ASC DESC的时候，默认是ASC。</p>
</li>
<li><p>ORDER BY 多列的时候，eg:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">order by A,B        这个时候都是默认按升序排列</span><br><span class="line">order by A desc,B   这个时候 A 降序，B 升序排列</span><br><span class="line">order by A ,B desc  这个时候 A 升序，B 降序排列</span><br></pre></td></tr></table></figure>

<p>2.即 <strong>desc</strong> 或者 <strong>asc</strong> 只对它紧跟着的第一个列名有效，其他不受影响，仍然是默认的升序。</p>
</li>
</ul>
<h3 id="INSERT-INTO"><a href="#INSERT-INTO" class="headerlink" title="#INSERT INTO"></a>#INSERT INTO</h3><blockquote>
<p>(insert into)  INSERT INTO用于向表中插入新记录。</p>
</blockquote>
<p>1.语法：</p>
<p>第一种形式：被插入的值</p>
<p><img src="C:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200611003724681.png" alt="image-20200611003724681"></p>
<p>第二种形式：指定列名+被插入的值</p>
<p><img src="C:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200611003552159.png" alt="image-20200611003552159"></p>
<p>2.例</p>
<p>例1：向 “Websites” 表中插入一个新行。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span>  Websites</span><br><span class="line"></span><br><span class="line"><span class="keyword">VALUES</span>  (<span class="string">'baidu'</span>,<span class="string">' https://www.baidu.com/ '</span>,<span class="string">'4'</span>,CN);</span><br></pre></td></tr></table></figure>

<p><img src="C:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200611004131455.png" alt="image-20200611004131455"></p>
<p>3.功能：在指定列插入数据</p>
<p>例2：插入一个新行，但是只在 “name”、”url” 和 “country” 列插入数据（id 字段会自动更新）：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Websites(<span class="keyword">name</span>,<span class="keyword">url</span>,country)</span><br><span class="line"></span><br><span class="line"><span class="keyword">VALUES</span>(<span class="string">'baidu'</span>,<span class="string">' https://www.baidu.com/ '</span>,CN);</span><br></pre></td></tr></table></figure>

<p>4.注意</p>
<p>1）没有指定要插入数据的列名的形式</p>
<p>需要列出插入行的每一列数据:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> table_name</span><br><span class="line"><span class="keyword">VALUES</span> (value1,value2,value3,...);</span><br></pre></td></tr></table></figure>

<p>2）insert   into select 和select   into from 的区别</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> scorebak </span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> socre </span><br><span class="line"><span class="keyword">WHERE</span> neza=<span class="string">'neza'</span> ;  <span class="comment">--插入一行,要求表scorebak 必须存在</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">INTO</span> scorebak </span><br><span class="line"><span class="keyword">FROM</span> score  </span><br><span class="line"><span class="keyword">WHERE</span> neza=<span class="string">'neza'</span>  ;<span class="comment">--也是插入一行,要求表scorebak 不存在</span></span><br></pre></td></tr></table></figure>

<h3 id="UPDATE"><a href="#UPDATE" class="headerlink" title="#UPDATE"></a>#UPDATE</h3><blockquote>
<p>用于更新表中的记录。</p>
</blockquote>
<p>新表中已存在的记录。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> table_name</span><br><span class="line"><span class="keyword">SET</span> column1=value1,column2=value2,...</span><br><span class="line"><span class="keyword">WHERE</span> some_column=some_value;</span><br></pre></td></tr></table></figure>

<p><strong>PS:注意其中的WHERE子句！</strong></p>
<p>WHERE规定哪条需要更新，省略则所有记录都会更新。</p>
<p>2.实例</p>
<p>例1：把 “菜鸟教程” 的 alexa 排名更新为 5000，country 改为 USA。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> Websites</span><br><span class="line"></span><br><span class="line"><span class="keyword">SET</span> alexa=<span class="string">'5000'</span>,country=<span class="string">'USA'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">name</span>= <span class="string">'菜鸟教程'</span>;</span><br></pre></td></tr></table></figure>

<p><img src="C:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200611005523266.png" alt="image-20200611005523266"></p>
<p>3.UPDATE警告！！</p>
<p>执行没有 WHERE 子句的 UPDATE 要慎重，再慎重。</p>
<p>在 MySQL 中可以通过设置 <strong>sql_safe_updates</strong> 这个自带的参数来解决，当该参数开启的情况下，你必须在update 语句后携带 where 条件，否则就会报错。</p>
<p><strong>set sql_safe_updates=1;</strong> 表示开启该参数</p>
<h3 id="DELETE"><a href="#DELETE" class="headerlink" title="#DELETE"></a>#DELETE</h3><blockquote>
<p>用于删除表中的记录。</p>
</blockquote>
<p>1.语法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> table_name</span><br><span class="line"><span class="keyword">WHERE</span> some_column=some_value;</span><br></pre></td></tr></table></figure>

<p><strong>PS:注意其中的WHERE子句！</strong></p>
<p>WHERE规定哪条需要删除，省略则所有记录都会删除。</p>
<p>2.实例</p>
<p>例1：从 “Websites” 表中删除网站名为 “Facebook” 且国家为 USA 的网站。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> Websites</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">name</span>=<span class="string">'Facebook'</span> <span class="keyword">AND</span> country=<span class="string">'USA'</span>;</span><br></pre></td></tr></table></figure>

<p>再读取表即可见。</p>
<p>3.删除表内数据而不删除表</p>
<p>这意味着表结构、属性、索引将保持不变：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> table_name;</span><br><span class="line"></span><br><span class="line">或</span><br><span class="line"></span><br><span class="line"><span class="keyword">DELETE</span> * <span class="keyword">FROM</span> table_name;</span><br></pre></td></tr></table></figure>

<p><strong>注释：</strong>在删除记录时要格外小心！因为您不能重来！</p>
<h3 id="SELECT-TOP-LIMIT-ROWNUM子句"><a href="#SELECT-TOP-LIMIT-ROWNUM子句" class="headerlink" title="#SELECT TOP,LIMIT,ROWNUM子句"></a>#SELECT TOP,LIMIT,ROWNUM子句</h3><p>1.SELECT TOP</p>
<blockquote>
<p>用于规定要返回的记录的数目。</p>
</blockquote>
<p>对于拥有数千条记录的大型表来说，是非常有用的。</p>
<p><strong>注意:</strong>并非所有的数据库系统都支持 SELECT TOP 语句。</p>
<p> MySQL 支持 LIMIT 语句来选取指定的条数数据，</p>
<p> Oracle 可以使用 ROWNUM 来选取。</p>
<h5 id="1-语法"><a href="#1-语法" class="headerlink" title="1.语法"></a>1.语法</h5><p>1)SQL Server / MS Access 语法-TOP</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> TOP <span class="built_in">number</span>|<span class="keyword">percent</span> column_name(s)</span><br><span class="line"><span class="keyword">FROM</span> table_name;</span><br></pre></td></tr></table></figure>

<p>2)MySQL 语法-LIMIT</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column_name(s)</span><br><span class="line"><span class="keyword">FROM</span> table_name</span><br><span class="line"><span class="keyword">LIMIT</span> <span class="built_in">number</span>;</span><br></pre></td></tr></table></figure>

<p>例1:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Persons</span><br><span class="line"><span class="keyword">LIMIT</span> <span class="number">5</span>;</span><br></pre></td></tr></table></figure>



<p>3)Oracle 语法-ROWNUM</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column_name(s)</span><br><span class="line"><span class="keyword">FROM</span> table_name</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">ROWNUM</span> &lt;= <span class="built_in">number</span>;</span><br></pre></td></tr></table></figure>

<p>例2:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Persons</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">ROWNUM</span> &lt;=<span class="number">5</span>;</span><br></pre></td></tr></table></figure>

<h5 id="2-实例"><a href="#2-实例" class="headerlink" title="2.实例"></a>2.实例</h5><p>例1）MySQL 的SELECT LIMIT</p>
<p>从 “Websites” 表中选取头两条记录：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Websites</span><br><span class="line"></span><br><span class="line"><span class="keyword">LIMIT</span> <span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<p>例2）SQL的SELECT TOP PERCENT </p>
<p>在 Microsoft SQL Server 中还可以使用百分比作为参数。</p>
<p>下面的 SQL 语句从 websites 表中选取前面百分之 50 的记录：</p>
<p>以下操作在 Microsoft SQL Server 数据库中可执行。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> TOP <span class="number">50</span> <span class="keyword">PERCENT</span> * <span class="keyword">FROM</span> Websites;</span><br></pre></td></tr></table></figure>

<h5 id="3-TIPS"><a href="#3-TIPS" class="headerlink" title="3.TIPS"></a>3.TIPS</h5><p>变相返回后 N 行:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--前5行</span></span><br><span class="line"><span class="keyword">SELECT</span> TOP <span class="number">5</span> *</span><br><span class="line"><span class="keyword">FROM</span> Websites;</span><br><span class="line"></span><br><span class="line"><span class="comment">--后5行</span></span><br><span class="line"><span class="keyword">SELECT</span> TOP <span class="number">5</span> *</span><br><span class="line"><span class="keyword">FROM</span> Websites</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="keyword">id</span> <span class="keyword">DESC</span>;<span class="comment">--desc 表示降序排列 asc 表示升序</span></span><br></pre></td></tr></table></figure>

<h3 id="LIKE操作符"><a href="#LIKE操作符" class="headerlink" title="#LIKE操作符"></a>#LIKE操作符</h3><blockquote>
<p>用于在 WHERE 子句中,搜索列中的指定模式。</p>
</blockquote>
<p>1.语法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column_name(s)</span><br><span class="line"><span class="keyword">FROM</span> table_name</span><br><span class="line"><span class="keyword">WHERE</span> column_name <span class="keyword">LIKE</span> pattern;</span><br></pre></td></tr></table></figure>

<p><strong>注意</strong>：通配符%的位置和数量。</p>
<p>例1：选取 name 以字母 “G” 开始的所有客户：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Websites</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">name</span> <span class="keyword">LIKE</span>  <span class="string">'G%'</span>;</span><br></pre></td></tr></table></figure>

<p><strong>提示：</strong>“%” 符号用于在模式的前后定义通配符（默认字母）。您将在接下来学习更多有关通配符的知识。</p>
<p>例2：选取 name 以字母 “k” 结尾的所有客户：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Websites</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">name</span> <span class="keyword">LIKE</span>  <span class="string">'%k'</span>;</span><br></pre></td></tr></table></figure>



<p>例3：选取 name 包含模式 “oo” 的所有客户：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Websites</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">name</span> <span class="keyword">LIKE</span> <span class="string">'%oo%'</span>;</span><br></pre></td></tr></table></figure>



<p>通过使用 NOT 关键字，您可以选取不匹配模式的记录。</p>
<p>例4：选取 name 不包含模式 “oo” 的所有客户：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Websites</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">name</span>  <span class="keyword">NOT</span> <span class="keyword">LIKE</span> <span class="string">'%oo%'</span>;</span><br></pre></td></tr></table></figure>

<h2 id="SQL通配符"><a href="#SQL通配符" class="headerlink" title="-SQL通配符"></a>-SQL通配符</h2><blockquote>
<p>用于替代字符串中的任何其他字符。</p>
</blockquote>
<p>在 SQL 中，通配符与 SQL LIKE 操作符一起使用。</p>
<p>SQL 通配符用于搜索表中的数据。</p>
<table>
<thead>
<tr>
<th align="left">通配符</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">%</td>
<td align="left">替代 0 个或多个字符</td>
</tr>
<tr>
<td align="left">_(下划线)</td>
<td align="left">替代一个字符</td>
</tr>
<tr>
<td align="left">[<em>charlist</em>]</td>
<td align="left">字符列中的任何单一字符</td>
</tr>
<tr>
<td align="left">[^<em>charlist</em>] 或 [!<em>charlist</em>]</td>
<td align="left">不在字符列中的任何单一字符</td>
</tr>
</tbody></table>
<p>实例</p>
<h5 id="1-SQL"><a href="#1-SQL" class="headerlink" title="1)SQL%"></a>1)SQL%</h5><p>例1：选取 url 以字母 “https” 开始的所有网站：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Websites</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">url</span> <span class="keyword">LIKE</span> <span class="string">'http%'</span>;</span><br></pre></td></tr></table></figure>

<p>例2：选取 url 包含模式 “oo” 的所有网站：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *<span class="keyword">FROM</span> Websites</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">url</span> <span class="keyword">LIKE</span> <span class="string">'%oo%'</span>;</span><br></pre></td></tr></table></figure>

<h5 id="2）SQL与"><a href="#2）SQL与" class="headerlink" title="2）SQL与_"></a>2）SQL与_</h5><p>例3：选取 name 以一个任意字符开始，然后是 “oogle” 的所有客户</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Websites</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">name</span> <span class="keyword">LIKE</span> <span class="string">'_oogle'</span>;</span><br></pre></td></tr></table></figure>

<p>例4:选取 name 以 “G” 开始，然后是一个任意字符，然后是 “o”，然后是一个任意字符，然后是 “le” 的所有网站.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Websites</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">name</span> <span class="keyword">LIKE</span> <span class="string">'G_o_le'</span>;</span><br></pre></td></tr></table></figure>

<h5 id="3-SQL-charlist"><a href="#3-SQL-charlist" class="headerlink" title="3)SQL [charlist]"></a>3)SQL [charlist]</h5><p>MySQL 中使用 <strong>REGEXP</strong> 或 <strong>NOT REGEXP</strong> 运算符</p>
<p> (或 RLIKE 和 NOT RLIKE) 来操作正则表达式。</p>
<p>例1：选取 name 以 “G”、”F” 或 “s” 开始的所有网站：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Websites</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">name</span>  REGEXP  <span class="string">'^[GFs]'</span>;</span><br></pre></td></tr></table></figure>

<p><img src="C:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200611022737063.png" alt="image-20200611022737063"></p>
<p>例2：选取 name 以 A 到 H 字母开头的网站：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Websites</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">name</span>  REGEXP  <span class="string">'^[A-H]'</span>;</span><br></pre></td></tr></table></figure>

<p>例3： name 不以 A 到 H 字母开头的网站：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Websites</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">name</span>  REGEXP  <span class="string">'^[^A-H]'</span>;</span><br></pre></td></tr></table></figure>

<h3 id="IN操作符"><a href="#IN操作符" class="headerlink" title="#IN操作符"></a>#IN操作符</h3><blockquote>
<p>允许您在 WHERE 子句中规定多个值。</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column_name(s)</span><br><span class="line"><span class="keyword">FROM</span> table_name</span><br><span class="line"><span class="keyword">WHERE</span> column_name <span class="keyword">IN</span> (value1,value2,...);</span><br></pre></td></tr></table></figure>

<p>例1：选取 name 为 “Google” 或 “菜鸟教程” 的所有网站：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Websites</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">name</span> <span class="keyword">IN</span> (<span class="string">'Google'</span>,<span class="string">'菜鸟教程'</span>);</span><br></pre></td></tr></table></figure>

<p><strong>in 与 = 的转换</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> Websites</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">name</span> <span class="keyword">in</span> (<span class="string">'Google'</span>,<span class="string">'菜鸟教程'</span>);</span><br></pre></td></tr></table></figure>

<p>可以转换成 <strong>=</strong> 的表达：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Websites</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">name</span>=<span class="string">'Google'</span> <span class="keyword">OR</span> <span class="keyword">name</span>=<span class="string">'菜鸟教程'</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>相同点：均在WHERE中使用作为筛选条件之一、均是等于的含义</li>
<li>不同点：IN可以规定多个值，等于规定一个值</li>
</ul>
<h3 id="BETWEEN操作符"><a href="#BETWEEN操作符" class="headerlink" title="#BETWEEN操作符"></a>#BETWEEN操作符</h3><blockquote>
<p>用于选取介于两个值之间的数据范围内的值。</p>
<p>这些值可以是数值、文本或者日期。</p>
</blockquote>
<p>1.语法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column_name(s)</span><br><span class="line"><span class="keyword">FROM</span> table_name</span><br><span class="line"><span class="keyword">WHERE</span> column_name <span class="keyword">BETWEEN</span> value1*</span><br><span class="line"><span class="keyword">AND</span> value2;</span><br></pre></td></tr></table></figure>

<p>例1：选取 alexa 介于 1 和 20 之间的所有网站：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Websites</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span>  alexa <span class="keyword">BETWEEN</span> <span class="number">1</span> <span class="keyword">AND</span> <span class="number">20</span>;</span><br></pre></td></tr></table></figure>



<p>NO BETWEEN</p>
<p>例2：如需显示不在上面实例范围内的网站，请使用 NOT BETWEEN：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Websites</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> alexa <span class="keyword">NOT</span> <span class="keyword">BETWEEN</span> <span class="number">1</span> <span class="keyword">AND</span> <span class="number">20</span>;</span><br></pre></td></tr></table></figure>



<p>带有IN的BETWEEN实例</p>
<p>例3：选取 alexa 介于 1 和 20 之间但 country 不为 USA 和 IND 的所有网站：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Websites</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> (alexa <span class="keyword">BETWEEN</span> <span class="number">1</span> <span class="keyword">AND</span> <span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">AND</span> country <span class="keyword">NOT</span> <span class="keyword">IN</span> (<span class="string">'USA'</span>,<span class="string">'IND'</span>) ;</span><br></pre></td></tr></table></figure>

<p>带有文本值的 BETWEEN </p>
<p>例4：选取 name 以介于 ‘A’ 和 ‘H’ 之间字母开始的所有网站</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Websites</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">name</span> <span class="keyword">BETWEEN</span> <span class="string">'A'</span> <span class="keyword">AND</span> <span class="string">'H'</span>;</span><br></pre></td></tr></table></figure>





<p>实例表2</p>
<p>下面是 “access_log” 网站访问记录表的数据，其中：</p>
<p><strong>aid：</strong>为自增 id。</p>
<p><strong>site_id</strong>：为对应 websites表的网站 id。</p>
<p><strong>count</strong>：访问次数。</p>
<p><strong>date：</strong>为访问日期。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM access_log;</span><br><span class="line">+<span class="comment">-----+---------+-------+------------+</span></span><br><span class="line">| aid | site_id | count | date       |</span><br><span class="line">+<span class="comment">-----+---------+-------+------------+</span></span><br><span class="line">|   1 |       1 |    45 | 2016-05-10 |</span><br><span class="line">|   2 |       3 |   100 | 2016-05-13 |</span><br><span class="line">|   3 |       1 |   230 | 2016-05-14 |</span><br><span class="line">|   4 |       2 |    10 | 2016-05-14 |</span><br><span class="line">|   5 |       5 |   205 | 2016-05-14 |</span><br><span class="line">|   6 |       4 |    13 | 2016-05-15 |</span><br><span class="line">|   7 |       3 |   220 | 2016-05-15 |</span><br><span class="line">|   8 |       5 |   545 | 2016-05-16 |</span><br><span class="line">|   9 |       3 |   201 | 2016-05-17 |</span><br><span class="line">+<span class="comment">-----+---------+-------+------------+</span></span><br><span class="line">9 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>



<p>带有日期值的 BETWEEN 操作符实例</p>
<p>例5：选取 date 介于 ‘2016-05-10’ 和 ‘2016-05-14’ 之间的所有访问记录</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> access_log</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">data</span> <span class="keyword">BETWEEN</span> <span class="string">'2016-05-10'</span> <span class="keyword">AND</span> <span class="string">'2016-05-14'</span> ;</span><br></pre></td></tr></table></figure>

<p>*<em>注意!:在不同的数据库中，BETWEEN 操作符会产生不同的结果！<br>*</em>在某些数据库中，BETWEEN 选取介于两个值之间但不包括两个测试值的字段。<br>在某些数据库中，BETWEEN 选取介于两个值之间且包括两个测试值的字段。<br>在某些数据库中，BETWEEN 选取介于两个值之间且包括第一个测试值但不包括最后一个测试值的字段。</p>
<p><strong>因此，请检查您的数据库是如何处理 BETWEEN 操作符！</strong></p>
<h2 id="SQL别名"><a href="#SQL别名" class="headerlink" title="-SQL别名"></a>-SQL别名</h2><blockquote>
<p>使用SQL可以为表名称或列名称指定别名。</p>
</blockquote>
<p>1.语法</p>
<p>1)列的 SQL 别名语法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column_name <span class="keyword">AS</span> alias_name</span><br><span class="line"><span class="keyword">FROM</span> table_name;</span><br></pre></td></tr></table></figure>

<p>2)表的 SQL 别名语法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column_name(s)</span><br><span class="line"><span class="keyword">FROM</span> table_name <span class="keyword">AS</span> alias_name;</span><br></pre></td></tr></table></figure>

<p> 例1：下面的 SQL 语句指定了两个别名，一个是 name 列的别名，一个是 country 列的别名。</p>
<p><strong>提示：</strong>如果列名称包含空格，要求使用双引号或方括号 </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">name</span> <span class="keyword">AS</span> abc ,country <span class="keyword">AS</span> <span class="keyword">def</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">FROM</span> Websites;</span><br></pre></td></tr></table></figure>



<p>例2：把三个列（url、alexa 和 country）结合在一起，并创建一个名为 “site_info” 的别名：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">name</span>,<span class="keyword">CONCAT</span>(<span class="keyword">url</span>,<span class="string">','</span>,alexa,<span class="string">','</span>,country) <span class="keyword">AS</span> site_info</span><br><span class="line"></span><br><span class="line"><span class="keyword">FROM</span> Websites;</span><br></pre></td></tr></table></figure>

<p><img src="C:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200611154744319.png" alt="image-20200611154744319"></p>
<p> 例3：选取 “菜鸟教程” 的所访问记录。我们使用 “Websites” 和 “access_log” 表，并分别为它们指定表别名 “w” 和 “a”（通过使用别名让 SQL 更简短）： </p>
<p>SELECT w.name,w.url,a.count,a.date</p>
<p>FROM Websites AS w, access_log AS a</p>
<p>WHERE a.site_id=w.id and w.name = “菜鸟教程”;</p>
<p><img src="C:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200611155204077.png" alt="image-20200611155204077"></p>
<p>例4： 不带别名的相同的 SQL 语句 </p>
<p><img src="C:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200611155500691.png" alt="image-20200611155500691"></p>
<p>（复杂）</p>
<p>so：在下面的情况下，使用别名很有用：</p>
<ul>
<li>在查询中涉及超过一个表</li>
<li>在查询中使用了函数</li>
<li>列名称很长或者可读性差</li>
<li>需要把两个列或者多个列结合在一起</li>
</ul>
<h2 id="SQL-JOIN"><a href="#SQL-JOIN" class="headerlink" title="-SQL JOIN"></a>-SQL JOIN</h2><blockquote>
<p>用于把来自两个或多个表的行结合起来</p>
</blockquote>
<p>首先，连接的结果可以在逻辑上看作是由SELECT语句指定的列组成的新表。</p>
<p>左连接与右连接的左右指的是以两张表中的哪一张为基准，它们都是外连接。</p>
<p>外连接就好像是为非基准表添加了一行全为空值的万能行，用来与基准表中找不到匹配的行进行匹配。假设两个没有空值的表进行左连接，左表是基准表，左表的所有行都出现在结果中，右表则可能因为无法与基准表匹配而出现是空值的字段。</p>
<p>这部分主要涉及的是表连接的逻辑问题，教程主讲语法的话这部分确实需要自己再去搜资料.</p>
<p>下图展示了 LEFT JOIN、RIGHT JOIN、INNER JOIN、OUTER JOIN 相关的 7 种用法。</p>
<p><a href="https://www.runoob.com/wp-content/uploads/2019/01/sql-join.png" target="_blank" rel="noopener"><img src="https://www.runoob.com/wp-content/uploads/2019/01/sql-join.png" alt="img"></a></p>
<p>1.最常见的 JOIN 类型：</p>
<h4 id="1-SQL-INNER-JOIN（简单的-JOIN）。"><a href="#1-SQL-INNER-JOIN（简单的-JOIN）。" class="headerlink" title="1.SQL INNER JOIN（简单的 JOIN）。"></a><strong>1.SQL INNER JOIN（简单的 JOIN）</strong>。</h4><p>SQL INNER JOIN 从多个表中返回满足 JOIN 条件的所有行。</p>
<p>例1：请注意，”Websites” 表中的 “<strong>id</strong>“ 列指向 “access_log” 表中的字段 “<strong>site_id</strong>“。上面这两个表是通过 “site_id” 列联系起来的。</p>
<p>然后，如果我们运行下面的 SQL 语句（包含 INNER JOIN）：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Websites.id,Websites.name,access_log.count, access_log.date</span><br><span class="line"></span><br><span class="line"><span class="keyword">FROM</span> Websites</span><br><span class="line"></span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> access_log </span><br><span class="line"></span><br><span class="line"><span class="keyword">ON</span>  Websites.id =access_log.site.id;</span><br></pre></td></tr></table></figure>

<p><img src="C:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200611171133335.png" alt="image-20200611171133335"></p>
<p>在我们继续讲解实例之前，我们先列出您可以使用的不同的 SQL JOIN 类型：</p>
<ul>
<li><strong>INNER JOIN</strong>：如果表中有至少一个匹配，则返回行</li>
<li><strong>LEFT JOIN</strong>：即使右表中没有匹配，也从左表返回所有的行</li>
<li><strong>RIGHT JOIN</strong>：即使左表中没有匹配，也从右表返回所有的行</li>
<li><strong>FULL JOIN</strong>：只要其中一个表中存在匹配，则返回行</li>
</ul>
<h2 id="1）SQL-INNER-JOIN-关键字"><a href="#1）SQL-INNER-JOIN-关键字" class="headerlink" title="1）SQL INNER JOIN 关键字"></a>1）SQL INNER JOIN 关键字</h2><p>INNER JOIN 关键字在表中存在至少一个匹配时返回行。</p>
<p><img src="C:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200611183236272.png" alt="image-20200611183236272"></p>
<p><img src="C:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200611183302470.png" alt="image-20200611183302470"></p>
<p>例1：将返回所有网站的访问记录：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Websites.name,access_log.count,access_log.date</span><br><span class="line"></span><br><span class="line"><span class="keyword">FROM</span> Websites</span><br><span class="line"></span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> access_log</span><br><span class="line"></span><br><span class="line"><span class="keyword">ON</span>  Websites.id=access_log.site_id</span><br><span class="line"></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> access_log.count;</span><br></pre></td></tr></table></figure>


  </div>
  <footer class="article-footer">
    
  <div class="cc">
    <a href="http://creativecommons.org/licenses/by-sa/4.0/deed.e" target="_blank" title="Attribution-ShareAlike">
      <img src="/images/cc/cc.png">
      
          <img src="/images/cc/by.png">
        
          <img src="/images/cc/sa.png">
      
      <span>
        This work is licensed under a Creative Commons Attribution-ShareAlike 4.0 International License.
      </span>
    </a>
  </div>


    

  </footer>
</article>







          <div class="main-footer">
  
    © 2020 Hexo - Powered by <a href="http://hexo.io" target="_blank">Hexo</a> - Theme <a href="https://github.com/denjones/hexo-theme-chan" target="_blank">Chan</a>
  
</div>

      
        </div>
      
    </div>
  </div>
  <script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>

  <link rel="stylesheet" href="/PhotoSwipe/photoswipe.css">
  <link rel="stylesheet" href="/PhotoSwipe/default-skin/default-skin.css">

  <!-- Root element of PhotoSwipe. Must have class pswp. -->
  <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
             It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

      <!-- Container that holds slides.
                PhotoSwipe keeps only 3 of them in the DOM to save memory.
                Don't modify these 3 pswp__item elements, data is added later on. -->
      <div class="pswp__container">
        <div class="pswp__item"></div>
        <div class="pswp__item"></div>
        <div class="pswp__item"></div>
      </div>

      <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
      <div class="pswp__ui pswp__ui--hidden">

        <div class="pswp__top-bar">

          <!--  Controls are self-explanatory. Order can be changed. -->

          <div class="pswp__counter"></div>

          <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

          <button class="pswp__button pswp__button--share" title="Share"></button>

          <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

          <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

          <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
          <!-- element will get class pswp__preloader--active when preloader is running -->
          <div class="pswp__preloader">
            <div class="pswp__preloader__icn">
              <div class="pswp__preloader__cut">
                <div class="pswp__preloader__donut"></div>
              </div>
            </div>
          </div>
        </div>

        <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
          <div class="pswp__share-tooltip"></div>
        </div>

        <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>

        <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>

        <div class="pswp__caption">
          <div class="pswp__caption__center"></div>
        </div>
      </div>
    </div>
  </div>

  <script src="/PhotoSwipe/photoswipe.js"></script>
  <script src="/PhotoSwipe/photoswipe-ui-default.js"></script>


<script src="/perfect-scrollbar/js/min/perfect-scrollbar.min.js"></script>
<script src="/scripts/main.js"></script>

</body>
</html>
